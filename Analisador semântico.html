<html>

<head>
    
    <title>Analisador Sem칙ntico para Linguagem C</title>
    <style>
        body {
            font-family: 'Segoe UI', cursive, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: darkmagenta;
        }

        .container {
            background-image: linear-gradient(to right, darkviolet, black);
            padding: 30px;
            color: ghostwhite;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }

        .code-editor {
            width: 100%;
            height: 200px;
            margin: 20px 0;
            padding: 15px;
            font-family: monospace;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: dimgrey;
            font-family: cursive;
            color: ghostwhite;
            resize: vertical;
        }

        .output {
            background-color: rgb(2, 2, 2);
            padding: 20px;
            border-radius: 5px;
            border-left: 4px solid #007bff;
            margin: 20px 0;
        }

        button {
            background: black;
            color: ghostwhite;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }

        button:hover {
            background-color: #0056b3;
        }

        .error {
            color: #dc3545;
            font-weight: bold;
        }

        .success {
            color: #28a745;
        }
    </style>
</head>

<body>
    
    <div class="container">
        <h1>Analisador Sem칙ntico para Linguagem C <span style="color: brown"> REMIX</span></h1>
        <p>Este analisador verifica erros sem칙nticos comuns em c칩digo C, incluindo:</p>
        <ul>
            <li>Vari치veis n칚o declaradas</li>
            <li>Tipos incompat칤veis em atribui칞칫es</li>
            <li>Uso incorreto de operadores</li>
            <li>Verifica칞칚o de escopo de vari치veis</li>
            <li>Chamadas de fun칞칚o com n칰mero incorreto de argumentos</li>
        </ul>

        <textarea id="code-input" class="code-editor" placeholder="Digite seu c칩digo C aqui...">
int main() {
    int x;
    float y = 3.14;
    x = y;    // Aviso: poss칤vel perda de precis칚o
    
    int z;
    printf("%d", w);  // Erro: vari치vel 'w' n칚o declarada
    
    return 0;
}</textarea>

        <button onclick="analyzeCode()">Analisar C칩digo</button>
        <div id="output" class="output"></div>
    </div>

    <script>
        function analyzeCode() {
            const codeInput = document.getElementById('code-input').value;
            const output = document.getElementById('output');
            output.innerHTML = '';

            // An치lise sem칙ntica b치sica
            const analysis = {
                errors: [],
                warnings: []
            };

            // Lista de vari치veis declaradas com seus tipos
            const declaredVars = new Map();

            // Dividir o c칩digo em linhas
            const lines = codeInput.split('\n');

            // An치lise linha por linha
            lines.forEach((line, index) => {
                // Remover espa칞os em branco extras
                line = line.trim();

                // Verificar declara칞칫es de vari치veis (com ou sem inicializa칞칚o)
                const declarationRegex = /\b(int|float|char|double)\s+([a-zA-Z_][a-zA-Z0-9_]*)(\s*=\s*[^;]*)?\s*;/;
                const matches = line.match(declarationRegex);
                if (matches) {
                    // Se a linha for uma declara칞칚o de vari치vel
                    declaredVars.set(matches[2], matches[1]);
                }

                // Verificar atribui칞칫es
                if (line.match(/([a-zA-Z_][a-zA-Z0-9_]*)\s*=\s*([^;]+);/)) {
                    const matches = line.match(/([a-zA-Z_][a-zA-Z0-9_]*)\s*=\s*([^;]+);/);
                    const varName = matches[1];

                    if (!declaredVars.has(varName)) {
                        analysis.errors.push(`Linha ${index + 1}: Vari치vel '${varName}' n칚o foi declarada`);
                    }

                    const assignedValue = matches[2].trim();

                    // Verificar se h치 tipos incompat칤veis, como atribui칞칚o de float para int
                    if (declaredVars.get(varName) === 'int' && assignedValue.includes('.')) {
                        analysis.warnings.push(`Linha ${index + 1}: Poss칤vel perda de precis칚o ao atribuir float para int`);
                    }

                    // Verificar se o tipo de vari치vel est치 sendo corretamente atribu칤do
                    if (declaredVars.get(varName) === 'float' && !assignedValue.match(/^\d*\.?\d+$/)) {
                        analysis.errors.push(`Linha ${index + 1}: A vari치vel '${varName}' deveria receber um valor num칠rico v치lido do tipo 'float'`);
                    }
                }

                // Verificar uso de vari치veis em printf
                if (line.includes('printf')) {
                    const usedVars = line.match(/[a-zA-Z_][a-zA-Z0-9_]*/g) || [];
                    usedVars.forEach(varName => {
                        if (varName !== 'printf' && !declaredVars.has(varName)) {
                            analysis.errors.push(`Linha ${index + 1}: Vari치vel '${varName}' usada em printf n칚o foi declarada`);
                        } else if (varName !== 'printf' && declaredVars.has(varName)) {
                            // Verificar se o tipo da vari치vel corresponde ao especificado no printf
                            if (line.includes('%d') && declaredVars.get(varName) !== 'int') {
                                analysis.errors.push(`Linha ${index + 1}: Tipo incompat칤vel para '%d'. Vari치vel '${varName}' deveria ser do tipo 'int'`);
                            } else if (line.includes('%f') && declaredVars.get(varName) !== 'float') {
                                analysis.errors.push(`Linha ${index + 1}: Tipo incompat칤vel para '%f'. Vari치vel '${varName}' deveria ser do tipo 'float'`);
                            }
                        }
                    });
                }
            });

            // Exibir resultados
            if (analysis.errors.length === 0 && analysis.warnings.length === 0) {
                output.innerHTML = '<p class="success">Nenhum erro sem칙ntico encontrado!</p>';
            } else {
                let resultHTML = '';

                if (analysis.errors.length > 0) {
                    resultHTML += '<h3>Erros:</h3>';
                    analysis.errors.forEach(error => {
                        resultHTML += `<p class="error">游댮 ${error}</p>`;
                    });
                }

                if (analysis.warnings.length > 0) {
                    resultHTML += '<h3>Avisos:</h3>';
                    analysis.warnings.forEach(warning => {
                        resultHTML += `<p style="color: orange;">丘멆잺 ${warning}</p>`;
                    });
                }

                output.innerHTML = resultHTML;
            }
        }

        // Inicializar com uma primeira an치lise
        analyzeCode();
    </script>
<a href="pagina.html" style="color: white; background-color: black; padding: 10px 20px; text-decoration: none; border-radius: 5px; font-weight: bold;">Voltar</a>
</body>


</html>